This has been shamefully taken from OpenFrameworks.
This has been slightly modified for it to work outside the OpenFrameworks environment; mostly remove ofLog(), ofToString(), a few included headers and such.